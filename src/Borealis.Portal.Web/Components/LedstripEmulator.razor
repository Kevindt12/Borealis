@using MudBlazor;
@using Borealis.Domain.Devices
@using Borealis.Domain.Effects
@using Borealis.Portal.Core.Effects


@* ReSharper disable InconsistentNaming | This is because i want to threat them as fields. I know this is just a autistic thing.*@
@inject ILogger<LedstripEmulator> _logger

@inject EffectEngineFactory _effectEngineFactory
@inject ISnackbar _snackbar
@* ReSharper restore InconsistentNaming *@



<MudToolBar Class="pa-2" Dense="true" >
    <MudIconButton Class="pa-1" Icon="@Icons.Material.Filled.Start" Disabled="IsRunning" OnClick="StartAsync" />
    <MudIconButton Class="pa-1" Icon="@Icons.Material.Filled.Stop" Disabled="!IsRunning" OnClick="StopAsync"/>
    <MudDivider/>
    <MudNumericField T="int" Class="pa-1" @bind-Value="Length" Variant="Variant.Text"/>
    <MudIconButton Class="=pa-1" Icon="@Icons.Material.Filled.BuildCircle" Disabled="IsRunning" OnClick="ResetLedstrip"></MudIconButton>

    <MudDivider/>
    <MudNumericField T="double" Class="pa-1" @bind-Value="Frequency" Variant="Variant.Text"/>
    <MudIconButton Class="=pa-1" Icon="@Icons.Material.Filled.FilterFrames" Disabled="IsRunning" OnClick="ResetLedstrip" ></MudIconButton>
</MudToolBar>

<MudDivider/>

<MudPaper Class="pa-2" MinHeight="200px" MinWidth="1200px" Outlined="true" >
    <MudStack Class="pa-1" Row="true" Justify="Justify.FlexStart" AlignItems="AlignItems.Start" >
        
        @for (int i = 0; i < Pixels.Length; i++)
        {
            <PixelComponent Height="20" Width="20" Class="pa-2" PixelColor="Pixels[i]"></PixelComponent>
        }

    </MudStack>
</MudPaper>
<MudPaper Class="pa-2" MinHeight="200px" MinWidth="1200px" Outlined="true" >
    <MudTextField T="string" Label="logs" Lines="20" Variant="Variant.Text" InputMode="InputMode.text" ReadOnly="true" @bind-Value="LogOutput">
    </MudTextField>

</MudPaper>


 